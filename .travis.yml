language: node_js
node_js:
  - "10"
  - "12"
  - "14"
before_script:
  - yarn lerna bootstrap
env:
  - PACKAGE=packages/local
  - PACKAGE=packages/gcs

cache: yarn
notifications:
  email: false
  webhooks: "https://ship.freshfox.at/travis/-1001141933878"

jobs:
  include:
    - stage: compile
      script: cd packages/local && yarn build
      script: cd packages/gcs && yarn build
    - stage: test
      script: cd packages/local && yarn test
      script: cd packages/gcs && yarn test

